{"version":3,"file":"js/231.83d1fa7a.js","mappings":"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","sources":["webpack://jiang_blog/./src/views/Message.vue","webpack://jiang_blog/./src/components/Emoji/Emoji.vue","webpack://jiang_blog/src/components/Emoji/Emoji.vue","webpack://jiang_blog/./src/components/Emoji/Emoji.vue?a35f","webpack://jiang_blog/./src/components/Emoji/Emoji.vue?4cf2","webpack://jiang_blog/src/views/Message.vue","webpack://jiang_blog/./src/views/Message.vue?b97a","webpack://jiang_blog/./src/views/Message.vue?83b3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message\"},[_vm._m(0),_c('el-divider',{staticClass:\"message-divider\",attrs:{\"content-position\":\"left\"}},[_vm._v(\"ÁïôË®ÄÂå∫\")]),_c('div',{staticClass:\"message-content\"},[_c('el-alert',{attrs:{\"title\":\"ÂèãÂñÑÂèëË®ÄÔºåÁª¥Êä§ËâØÂ•ΩÁöÑ‰∫íËÅîÁΩëÁéØÂ¢É\",\"type\":\"warning\"}}),_c('div',{staticClass:\"message-content-show\"},[_c('div',{staticClass:\"infinite-list-wrapper\",staticStyle:{\"overflow\":\"auto\"}},[_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],class:['infinite-list', 'message-content-show-ul'],attrs:{\"infinite-scroll-disabled\":\"disabled\"}},_vm._l((_vm.publishMessage),function(item){return _c('li',{key:item._id,staticClass:\"message-content-show-ul-list\"},[_c('div',{staticClass:\"message-content-show-ul-list-content\"},[_c('div',{staticClass:\"message-content-show-ul-list-content-avatar\"},[(item.userAbout)?_c('img',{attrs:{\"src\":item.userAbout.userAvatar,\"alt\":\"\"}}):_c('img',{attrs:{\"src\":_vm.$store.state.userInfo.userAvatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"message-content-show-ul-list-content-message\"},[_c('div',[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.userAbout.username ? item.userAbout.username : _vm.$store.state.userInfo.username))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"timer\")(item.publishDate)))])]),_c('p',[_vm._v(_vm._s(item.guestbook))])])])])}),0),(_vm.loading)?_c('p',{staticClass:\"tip\"},[_vm._v(\"Âä†ËΩΩ‰∏≠...\")]):_vm._e(),(_vm.noMore)?_c('p',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.tips))]):_vm._e()])]),_c('div',{staticClass:\"message-content-write\"},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputMessage),expression:\"inputMessage\"}],ref:\"inputbox\",staticClass:\"message-content-write-input\",attrs:{\"placeholder\":\"ËØ¥ÁÇπÂ•ΩÂê¨ÁöÑ...\"},domProps:{\"value\":(_vm.inputMessage)},on:{\"input\":function($event){if($event.target.composing)return;_vm.inputMessage=$event.target.value}}}),_c('el-popover',{attrs:{\"placement\":\"bottom-end\",\"width\":\"200\",\"trigger\":\"click\"}},[_c('el-button',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('b',[_vm._v(\"üòÄ\")])]),_c('el-tabs',{staticStyle:{\"cursor\":\"pointer\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"üòÄ\",\"name\":\"first\"}},[_c('Emoji',{attrs:{\"emoji\":_vm.emoji},on:{\"chooseEmoji\":_vm.chooseEmoji}})],1),_c('el-tab-pane',{attrs:{\"label\":\"‚öΩÔ∏è\",\"name\":\"second\"}},[_c('Emoji',{attrs:{\"emoji\":_vm.movement},on:{\"chooseEmoji\":_vm.chooseEmoji}})],1),_c('el-tab-pane',{attrs:{\"label\":\"üê∂\",\"name\":\"third\"}},[_c('Emoji',{attrs:{\"emoji\":_vm.animal},on:{\"chooseEmoji\":_vm.chooseEmoji}})],1),_c('el-tab-pane',{attrs:{\"label\":\"üçè\",\"name\":\"fourth\"}},[_c('Emoji',{attrs:{\"emoji\":_vm.eat},on:{\"chooseEmoji\":_vm.chooseEmoji}})],1),_c('el-tab-pane',{attrs:{\"label\":\"üöó\",\"name\":\"fourth1\"}},[_c('Emoji',{attrs:{\"emoji\":_vm.traffic},on:{\"chooseEmoji\":_vm.chooseEmoji}})],1)],1)],1),_c('i',{staticClass:\"el-icon-position\",on:{\"click\":_vm.sendMessage}})],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message-title\"},[_c('h3',[_c('i',{staticClass:\"el-icon-s-comment\"}),_vm._v(\"ÁïôË®Ä\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"emoji\"},_vm._l((_vm.emoji),function(item,index){return _c('b',{key:index,on:{\"click\":function($event){return _vm.chooseEmoji(item)}}},[_vm._v(_vm._s(item))])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div class=\"emoji\">\r\n     <b v-for=\"(item,index) of emoji\" :key=\"index\" @click=\"chooseEmoji(item)\">{{item}}</b>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"Emoji\",\r\n    props:[\"emoji\"],\r\n    methods: {\r\n      chooseEmoji(item) {\r\n        this.$emit('chooseEmoji', item)\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.emoji {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: 100%;\r\n  b {\r\n    width: 24px;\r\n    height: 24px;\r\n    text-align: center;\r\n    line-height: 24px;\r\n    border: 1px solid #999;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Emoji.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Emoji.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Emoji.vue?vue&type=template&id=15fd59fe&scoped=true&\"\nimport script from \"./Emoji.vue?vue&type=script&lang=js&\"\nexport * from \"./Emoji.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Emoji.vue?vue&type=style&index=0&id=15fd59fe&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15fd59fe\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"message\">\r\n    <div class=\"message-title\">\r\n      <h3><i class=\"el-icon-s-comment\"></i>ÁïôË®Ä</h3>\r\n    </div>\r\n    <el-divider class=\"message-divider\" content-position=\"left\"\r\n      >ÁïôË®ÄÂå∫</el-divider\r\n    >\r\n    <div class=\"message-content\">\r\n      <el-alert title=\"ÂèãÂñÑÂèëË®ÄÔºåÁª¥Êä§ËâØÂ•ΩÁöÑ‰∫íËÅîÁΩëÁéØÂ¢É\" type=\"warning\">\r\n      </el-alert>\r\n      <div class=\"message-content-show\">\r\n        <div class=\"infinite-list-wrapper\" style=\"overflow: auto\">\r\n          <ul\r\n            :class=\"['infinite-list', 'message-content-show-ul']\"\r\n            v-infinite-scroll=\"load\"\r\n            infinite-scroll-disabled=\"disabled\"\r\n          >\r\n            <li\r\n              class=\"message-content-show-ul-list\"\r\n              v-for=\"item in publishMessage\"\r\n              :key=\"item._id\"\r\n            >\r\n              <div class=\"message-content-show-ul-list-content\">\r\n                <!-- Â§¥ÂÉè -->\r\n                <div class=\"message-content-show-ul-list-content-avatar\">\r\n                  <img\r\n                    v-if=\"item.userAbout\"\r\n                    :src=\"item.userAbout.userAvatar\"\r\n                    alt=\"\"\r\n                  />\r\n                  <img\r\n                    v-else\r\n                    :src=\"$store.state.userInfo.userAvatar\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <!-- ÂÖ∂‰ªñÂÜÖÂÆπ -->\r\n                <div class=\"message-content-show-ul-list-content-message\">\r\n                  <div>\r\n                    <span class=\"name\">{{\r\n                      item.userAbout.username\r\n                        ? item.userAbout.username\r\n                        : $store.state.userInfo.username\r\n                    }}</span>\r\n                    <span class=\"time\">{{ item.publishDate | timer }}</span>\r\n                  </div>\r\n                  <p>{{ item.guestbook }}</p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <p v-if=\"loading\" class=\"tip\">Âä†ËΩΩ‰∏≠...</p>\r\n          <p v-if=\"noMore\" class=\"tip\">{{tips}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"message-content-write\">\r\n        <i class=\"el-icon-chat-dot-round\"></i>\r\n        <input\r\n          class=\"message-content-write-input\"\r\n          v-model=\"inputMessage\"\r\n          ref=\"inputbox\"\r\n          placeholder=\"ËØ¥ÁÇπÂ•ΩÂê¨ÁöÑ...\"\r\n        />\r\n        <el-popover placement=\"bottom-end\" width=\"200\" trigger=\"click\">\r\n          <el-button slot=\"reference\"><b>üòÄ</b></el-button>\r\n          <el-tabs v-model=\"activeName\" style=\"cursor: pointer\">\r\n            <el-tab-pane label=\"üòÄ\" name=\"first\">\r\n              <Emoji :emoji=\"emoji\" @chooseEmoji=\"chooseEmoji\" />\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"‚öΩÔ∏è\" name=\"second\">\r\n              <Emoji :emoji=\"movement\" @chooseEmoji=\"chooseEmoji\" />\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"üê∂\" name=\"third\">\r\n              <Emoji :emoji=\"animal\" @chooseEmoji=\"chooseEmoji\" />\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"üçè\" name=\"fourth\">\r\n              <Emoji :emoji=\"eat\" @chooseEmoji=\"chooseEmoji\" />\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"üöó\" name=\"fourth1\">\r\n              <Emoji :emoji=\"traffic\" @chooseEmoji=\"chooseEmoji\" />\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-popover>\r\n        <i class=\"el-icon-position\" @click=\"sendMessage\"></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Emoji from \"@/components/Emoji/Emoji.vue\";\r\nimport { postMessage, getAllMessage } from \"@/assets/api/index\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"Message\",\r\n  data() {\r\n    return {\r\n      inputMessage: \"\",\r\n      activeName: \"first\",\r\n      publishMessage: [],\r\n      count: 0,\r\n      loading: false,\r\n      tips: 'Ê≤°ÊúâÊõ¥Â§ö‰∫Ü~'\r\n    };\r\n  },\r\n  mounted() {\r\n    // Ëé∑ÂèñÁïôË®ÄÊï∞ÊçÆ\r\n    this.showAllMessage();\r\n  },\r\n  methods: {\r\n    // Ëé∑ÂèñÂØπÂ∫îÁöÑË°®ÊÉÖ\r\n    chooseEmoji(item) {\r\n      // const emo = event.target.innerText\r\n      // Á°ÆÂÆöÂÖâÊ†áÁöÑ‰ΩçÁΩÆ\r\n      const index = this.$refs.inputbox.selectionStart;\r\n      // ÊääË°®ÊÉÖÊ∑ªÂä†Âà∞ÁïôË®ÄÊùø\r\n      this.inputMessage =\r\n        this.inputMessage.substring(0, index) +\r\n        item +\r\n        this.inputMessage.substring(index);\r\n      this.$refs.inputbox.focus();\r\n      // const start = this.inputMessage.indexOf(item)\r\n      // setTimeout(() => {\r\n      //   this.$refs.inputbox.setSelectionRange(start + 1, start + 1)\r\n      // }, 0)\r\n    },\r\n    // ÂèëÈÄÅÁïôË®Ä‰∫ã‰ª∂\r\n    async sendMessage() {\r\n      if (!this.$store.state.userInfo._id)\r\n        return this.$message.error(\"ËØ∑ÂÖàÁôªÂΩïË¥¶Âè∑\");\r\n      if (!this.inputMessage.trim())\r\n        return this.$message.warning(\"ËØ∑ËæìÂÖ•ÁïôË®ÄÂÜÖÂÆπ\");\r\n      const { data } = await postMessage({\r\n        id: this.$store.state.userInfo._id,\r\n        message: this.inputMessage,\r\n      });\r\n      data.data.userAbout = this.$store.state.userInfo;\r\n      this.publishMessage.unshift(data.data);\r\n      this.inputMessage = \"\";\r\n    },\r\n    // Ëé∑ÂèñÁïôË®ÄÊï∞ÊçÆ\r\n    async showAllMessage(val = 0) {\r\n      if (!this.$store.state.userInfo._id) {\r\n        return this.tips = 'ÁôªÂΩïË¥¶Âè∑ÊâçËÉΩÊü•Áúã'\r\n      }\r\n      const { data } = await getAllMessage(val);\r\n      this.publishMessage.push(...data.data);\r\n      this.loading = false;\r\n    },\r\n    // ÊªöÂä®Âä†ËΩΩÊï∞ÊçÆ\r\n    load() {\r\n      this.loading = true;\r\n      this.count += 10;\r\n      this.showAllMessage(this.count);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"emoji\", \"movement\", \"animal\", \"eat\", \"traffic\", \"userInfo\"]),\r\n    noMore() {\r\n      return this.count >= this.publishMessage.length;\r\n    },\r\n    // ËÉΩÂê¶Á¶ÅÊ≠¢ÊâßË°åÊªöÂä®Âä†ËΩΩ\r\n    disabled() {\r\n      return this.loading || this.noMore;\r\n    },\r\n  },\r\n  components: { Emoji },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.message {\r\n  padding: 20px;\r\n  &-title {\r\n    font-size: 24px;\r\n    .el-icon-s-comment {\r\n      margin-right: 15px;\r\n    }\r\n  }\r\n  &-divider {\r\n    margin: 30px 0;\r\n    font-size: 16px;\r\n  }\r\n  &-content {\r\n    &-show {\r\n      width: 100%;\r\n      height: 600px;\r\n      min-width: 375px;\r\n      margin-top: 30px;\r\n      border: 1px solid #333;\r\n      border-top-left-radius: 30px;\r\n      border-top-right-radius: 30px;\r\n      background-color: #eee;\r\n      padding: 50px;\r\n      box-sizing: border-box;\r\n      overflow: hidden;\r\n      overflow-y: auto;\r\n      // ÁïôË®ÄÊ°ÜÁöÑÊ†∑Âºè\r\n      .infinite-list-wrapper {\r\n        height: 100%;\r\n      }\r\n      &-ul {\r\n        &-list {\r\n          border: 1px solid rgb(16, 16, 16);\r\n          border-radius: 20px;\r\n          background-color: #fff;\r\n          padding: 20px;\r\n          min-height: 30px;\r\n          min-width: 375px;\r\n          box-sizing: border-box;\r\n          margin-bottom: 15px;\r\n          &-content {\r\n            display: flex;\r\n            flex-wrap: nowrap;\r\n            align-items: flex-start;\r\n            width: 100%;\r\n            &-avatar {\r\n              min-width: 40px;\r\n              min-height: 40px;\r\n              max-width: 40px;\r\n              max-height: 40px;\r\n              border-radius: 50%;\r\n              overflow: hidden;\r\n              text-align: center;\r\n              line-height: 30px;\r\n              img {\r\n                width: 100%;\r\n                height: 100%;\r\n              }\r\n            }\r\n            &-message {\r\n              margin-left: 30px;\r\n              max-width: 800px;\r\n              min-width: 200px;\r\n              div {\r\n                width: 375px;\r\n              }\r\n              span {\r\n                font-size: 14px;\r\n                color: #ccc;\r\n              }\r\n              p {\r\n                font-size: 18px;\r\n                color: #333;\r\n                margin-top: 20px;\r\n              }\r\n              .name {\r\n                margin-right: 20px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    &-write {\r\n      width: 100%;\r\n      min-width: 375px;\r\n      height: 60px;\r\n      background-color: #fff;\r\n      border: 2px solid #ccc;\r\n      display: flex;\r\n      font-size: 24px;\r\n      align-items: center;\r\n      box-sizing: border-box;\r\n      .el-icon-chat-dot-round,\r\n      .el-icon-position {\r\n        margin: 20px;\r\n      }\r\n      &-input {\r\n        flex-grow: 1;\r\n        height: 30px;\r\n        padding-left: 15px;\r\n      }\r\n      &-emoji {\r\n        margin: 20px;\r\n      }\r\n    }\r\n  }\r\n  .tip {\r\n    font-size: 14px;\r\n    text-align: center;\r\n    color: #999;\r\n    line-height: 20px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=e15fd500&scoped=true&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=e15fd500&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e15fd500\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","attrs","_v","staticStyle","directives","name","rawName","value","load","expression","class","_l","publishMessage","item","key","_id","userAbout","userAvatar","$store","state","userInfo","_s","username","_f","publishDate","guestbook","loading","_e","noMore","tips","inputMessage","ref","domProps","on","$event","target","composing","slot","model","activeName","callback","$$v","emoji","chooseEmoji","movement","animal","eat","traffic","sendMessage","staticRenderFns","index","props","methods","component","data","count","mounted","id","message","computed","disabled","components","Emoji"],"sourceRoot":""}